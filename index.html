<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About Me: Ryan Kasper</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    #high-score-container {
      margin-top: 1.5rem;
      border: 1px solid #ddd;
      padding: 1rem;
      width: 300px;
      background: #f9f9f9;
      border-radius: 8px;
      text-align: center;
      margin-left: auto;
      margin-right: auto;
    }
    #high-score-container h4 {
      margin-top: 0;
      margin-bottom: 0.3rem;
    }
    #high-score-container small {
      display: block;
      margin-bottom: 0.8rem;
      color: gray;
      font-style: italic;
    }
    #leaderboard-list {
      padding-left: 1.2rem;
      text-align: left;
      margin-bottom: 0.5rem;
    }
    #leaderboard-list li {
      margin-bottom: 0.3rem;
      font-weight: bold;
      font-size: 1.1em;
    }
  </style>
</head>
<body>
  <header>
    <h1 id="main-header">Ryan Kasper's About Me Page! &hearts;</h1>
    <p id="site-notice" style="color: #d9534f; font-weight: bold; font-size: 1.1em; text-align: center;">
      ⚠️ This is a family-friendly site — please keep language clean and respectful. ⚠️
    </p>
  </header>

  <main>
    <p id="intro-text">Hello, my name is <strong>Ryan Kasper</strong>. Thank you for visiting my webpage!</p>

    <label for="bgColorPicker">Pick Background Color: </label>
    <input type="color" id="bgColorPicker" value="#f5f5f5" />

    <div style="margin: 1rem 0;">
      <label for="textColorPicker">Pick Text Color: </label>
      <input type="color" id="textColorPicker" value="#1e1e1e" />
    </div>

    <img src="Picture of Family/Pic of me.jpg" alt="Ryan Kasper" width="250" />

    <h2>I have a <strong>family of 6</strong> including myself:</h2>
    <!-- family list trimmed for brevity -->

    <hr />
    <h2>🎯 My Hobbies</h2>

    <div class="duel-container" id="ascii-art" style="white-space: nowrap; flex-direction: column; align-items: center;">
      <div class="duelers-row" style="display: flex; gap: 2rem; justify-content: center; align-items: flex-end;">
        <span class="duel-guy" id="dueler1">(>-_*)つ-}==&gt;</span>
        <span id="spin-symbols">✧✦💥✦✧</span>
        <span class="duel-guy" id="dueler2">&lt;=={-⊂(-_-&lt;)</span>
      </div>
      <div style="margin-top: 10px; font-weight: bold; font-size: 1.1em; width: 100%; text-align: center;">
        ⚔️IT’S TIME TO DUEL!!⚔️
      </div>
    </div>

    <div id="coin-flip-game" style="margin-top: 2rem; text-align: center;">
      <h3>Place Your Bet!</h3>
      <button id="bet-left">Bet on Left Dueler</button>
      <button id="bet-right">Bet on Right Dueler</button>
      <p id="result" style="margin-top: 1rem; font-weight: bold;"></p>
      <p id="win-streak" style="margin-top: 0.5rem; font-weight: bold; color: green;"></p>

      <div id="high-score-container">
        <h4>Your Top 3 Scores</h4>
        <small>(Saved only on this device, not shared online)</small>
        <ol id="leaderboard-list"></ol>
        <p id="high-score-text" style="font-weight: bold; font-size: 1.2em; margin-top: 0.5rem;"></p>
      </div>

      <div id="name-entry" style="margin-top: 1rem; display: none;">
        <label for="player-name">You set a new high score! Enter your name:</label><br />
        <input type="text" id="player-name" placeholder="Your name here" />
        <button id="submit-name">Submit</button>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Ryan Kasper. All rights reserved.</p>
  </footer>

<script>
  const bgColorPicker = document.getElementById('bgColorPicker');
  const textColorPicker = document.getElementById('textColorPicker');
  const asciiArt = document.getElementById('ascii-art');
  const mainHeader = document.getElementById('main-header');
  const introText = document.getElementById('intro-text');

  bgColorPicker.addEventListener('input', () => {
    const bgColor = bgColorPicker.value;
    document.body.style.backgroundColor = bgColor;
    asciiArt.style.backgroundColor = bgColor;
  });

  textColorPicker.addEventListener('input', () => {
    const textColor = textColorPicker.value;
    document.body.style.color = textColor;
    asciiArt.style.color = textColor;
    mainHeader.style.color = textColor;
    introText.style.color = textColor;

    const allTextElements = document.querySelectorAll('main h2, main h3, main p, main li, main label, main a, main span, main strong');
    allTextElements.forEach(el => el.style.color = textColor);
  });

  const betLeftBtn = document.getElementById('bet-left');
  const betRightBtn = document.getElementById('bet-right');
  const resultText = document.getElementById('result');
  const winStreakText = document.getElementById('win-streak');
  const dueler1 = document.getElementById('dueler1');
  const dueler2 = document.getElementById('dueler2');
  const highScoreText = document.getElementById('high-score-text');
  const leaderboardList = document.getElementById('leaderboard-list');
  const nameEntryDiv = document.getElementById('name-entry');
  const playerNameInput = document.getElementById('player-name');
  const submitNameBtn = document.getElementById('submit-name');

  let winStreak = 0;
  let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];

  function sortLeaderboard() {
    leaderboard.sort((a, b) => b.score - a.score);
    if (leaderboard.length > 3) leaderboard = leaderboard.slice(0, 3);
  }

  function displayLeaderboard() {
    leaderboardList.innerHTML = '';
    if (leaderboard.length === 0) {
      highScoreText.textContent = 'No high scores yet.';
    } else {
      leaderboard.forEach(entry => {
        const li = document.createElement('li');
        li.textContent = `${entry.name} — ${entry.score} wins`;
        leaderboardList.appendChild(li);
      });
      highScoreText.textContent = `${leaderboard[0].name} — ${leaderboard[0].score} wins`;
    }
  }

  function flipCoin() {
    return Math.random() < 0.5 ? 'left' : 'right';
  }

  function placeBet(bet) {
    const winner = flipCoin();
    dueler1.style.backgroundColor = '';
    dueler2.style.backgroundColor = '';

    if (winner === 'left') dueler1.style.backgroundColor = '#90ee90';
    else dueler2.style.backgroundColor = '#90ee90';

    if (bet === winner) {
      resultText.textContent = `🎉 You won! The ${winner} dueler wins!`;
      resultText.style.color = 'green';
      winStreak++;
    } else {
      resultText.textContent = `😞 You lost. The ${winner} dueler wins. Try again!`;
      resultText.style.color = 'red';
      winStreak = 0;
    }

    winStreakText.textContent = winStreak > 0 ? `🔥 Current Win Streak: ${winStreak}` : '';

    const lowestHighScore = leaderboard.length < 3 ? 0 : leaderboard[leaderboard.length - 1].score;
    if (winStreak > lowestHighScore) {
      nameEntryDiv.style.display = 'block';
    } else {
      nameEntryDiv.style.display = 'none';
    }
  }

  submitNameBtn.addEventListener('click', () => {
    let playerName = playerNameInput.value.trim();
    if (!playerName) playerName = 'Anonymous';

    const existingIndex = leaderboard.findIndex(e => e.name.toLowerCase() === playerName.toLowerCase());
    if (existingIndex >= 0) {
      if (winStreak > leaderboard[existingIndex].score) {
        leaderboard[existingIndex].score = winStreak;
      } else {
        alert('Your new score is not higher than your previous high score.');
        nameEntryDiv.style.display = 'none';
        playerNameInput.value = '';
        return;
      }
    } else {
      leaderboard.push({ name: playerName, score: winStreak });
    }

    sortLeaderboard();
    localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
    displayLeaderboard();
    nameEntryDiv.style.display = 'none';
    playerNameInput.value = '';
  });

  betLeftBtn.addEventListener('click', () => placeBet('left'));
  betRightBtn.addEventListener('click', () => placeBet('right'));

  sortLeaderboard();
  displayLeaderboard();
</script>

</body>
</html>
