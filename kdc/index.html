<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kasper's Dungeon Crawler (KDC)</title>

  <!-- Site CSS (keep your global ../styles.css if needed) -->
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="css/styles.css">

  <!-- Font Awesome (optional, matches rest of site) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- Favicon -->
  <link rel="icon" href="GIFS/R.jpg" type="image/x-icon" />
</head>

<body>
  <!-- Site nav (same markup used on your site; paths adjusted) -->
  <nav class="navbar">
    <a href="../index.html"><i class="fas fa-home"></i> Home</a>
    <a href="../mod5.html"><i class="fas fa-gamepad"></i> Pokemon Page</a>
    <a href="../sports.html"><i class="fas fa-football-ball"></i> Sports</a>
    <a href="../bg3.html"><i class="fas fa-dragon"></i> BG3 Honor Mode</a>
    <a class="active" href="./index.html">Play KDC</a>
    <a href="../index.html#footer"><i class="fas fa-angle-double-down"></i> Jump to footer</a>
  </nav>

  <div class="wrap">
    <h1>Kasper's Dungeon Crawler (KDC)</h1>

    <div class="grid">
      <!-- LEFT: class select -->
      <section class="panel">
        <h2 style="margin-top:0">Choose Your Class</h2>
        <div class="classes" id="classList"></div>
        <div class="row" style="margin-top:10px">
          <button id="startBtn" title="Start from boss 1 with your selected class.">Start Adventure</button>
          <button id="resetBtn" title="Reload the page and reset everything.">Reset</button>
        </div>

        <h3 style="margin:12px 0 6px">Boss Roster</h3>
        <ul id="bossRoster" class="roster" title="Tip: click any boss here to set the full-page background."></ul>
      </section>

      <!-- RIGHT: battle -->
      <section class="panel battle">
        <div class="footer">
          <div class="tag">Encounter: <span class="boss-num" id="encounter">‚Äî</span></div>
          <div class="tag">Difficulty: <span id="difficulty">Story</span></div>
          <div class="tag">Level: <span id="levelTag">1</span></div>
          <div class="tag" id="ngpTag" title="New Game Plus tier (each adds +30% boss stats)">NG+: 0</div>
        </div>

        <div class="combatants">
          <div class="card" id="heroCard">
            <div class="name"><span class="big" id="heroName">‚Äî</span><span id="heroStatus">Ready</span></div>
            <div class="hero-art" id="heroArt" hidden></div>
            <div>HP <div class="bar hp"><span id="heroHpBar" style="width:0%"></span></div></div>
            <div>MP <div class="bar mp"><span id="heroMpBar" style="width:0%"></span></div></div>
            <div class="stats" id="heroStats"></div>
            <div class="row" style="margin-top:8px">
              <button id="btnAttack" disabled title="Basic physical hit that can crit.">‚öîÔ∏è Attack</button>

              <!-- TWO ability buttons -->
              <button id="btnAbility1" disabled title="Class Ability 1">‚ú® Ability 1</button>
              <button id="btnAbility2" disabled title="Class Ability 2">‚ú® Ability 2</button>

              <button id="btnGuard" disabled title="Halve the next incoming hit.">üõ°Ô∏è Guard</button>
              <button id="btnPotion" disabled title="Drink to heal 25‚Äì50% of max HP and MP.">üß™ Potion</button>
              <button id="btnHaste"  disabled title="Take two extra immediate turns.">‚ö° Haste</button>
              <button id="btnSlow"   disabled title="Cancel the enemy's next turn.">üßä Slow Bomb</button>
            </div>
          </div>

          <div class="card" id="bossCard">
            <div class="name"><span class="big" id="bossName">‚Äî</span><span id="bossStatus">Waiting</span></div>
            <div class="boss-art" id="bossArt" hidden></div>
            <div>HP <div class="bar hp"><span id="bossHpBar" style="width:0%"></span></div></div>
            <div class="stats" id="bossStats"></div>
          </div>
        </div>

        <div class="log" id="log" aria-live="polite"></div>

        <!-- Perk chooser -->
        <div id="perkPanel" class="perk-panel" hidden>
          <p class="perk-title">Choose your boon:</p>
          <div id="perkChoices" class="perk-choices"></div>
        </div>

        <!-- hit flash overlay -->
        <div id="hitFlash" class="hit-flash" aria-hidden="true"></div>

        <!-- Victory overlay -->
        <div id="victoryOverlay" class="overlay" hidden>
          <div class="overlay-box">
            <h2>üèÜ Game Clear!</h2>
            <p id="runSummary">You conquered KDC.</p>
            <div class="overlay-actions">
              <button id="btnContinueNG" title="Keep your progress and make bosses 30% stronger.">
                Continue to NG+ <span id="ngNext">1</span>
              </button>
              <button id="btnRestart" title="Restart from the beginning.">Restart Run</button>
            </div>
            <div id="confetti" class="confetti"></div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script src="js/game.js" defer></script>
</body>
</html>
